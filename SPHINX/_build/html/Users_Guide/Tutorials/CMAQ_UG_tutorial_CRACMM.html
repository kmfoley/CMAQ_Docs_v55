
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Getting started with CRACMM &#8212; CMAQ_Documentation 0.2 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../_static/documentation_options.js?v=10f1778b"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Users_Guide/Tutorials/CMAQ_UG_tutorial_CRACMM';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">CMAQ_Documentation 0.2 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../README.html">
         User's Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="README.html">
         Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../Developers_Guide/CMAQ_Dev_Guide.html">
         Developer's Guide
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../README.html">
         User's Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="README.html">
         Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../Developers_Guide/CMAQ_Dev_Guide.html">
         Developer's Guide
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Getting started with CRACMM</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="getting-started-with-cracmm">
<h1>Getting started with CRACMM<a class="headerlink" href="#getting-started-with-cracmm" title="Link to this heading">#</a></h1>
<p>Author: Havala Pye (pye.havala&#64;epa.gov) | v5.4</p>
<p>Update: Havala Pye (pye.havala&#64;epa.gov) | v5.5</p>
<p>CRACMM was first introduced in CMAQv5.4 as two versions: CRACMM1 and CRACMM1AMORE. Those versions are retained in v5.5 and an updated version, CRACMM2, is released for the first time. CRACMM2 merges the CRACMM and CRACMM-AMORE lines of development into one path going forward. Thus, CRACMM2 is an update to both CRACMM1 and CRACMM1AMORE. CRACMM has a separate supporting repository at https://www.github.com/USEPA/CRACMM which contains additional information to facilitate use of CRACMM in CMAQ. This tutorial provides an overview of how to get starting running CRACMM in CMAQ.</p>
<section id="how-is-running-cracmm-different-than-running-other-chemical-mechanisms-in-cmaq">
<h2>How is running CRACMM different than running other chemical mechanisms in CMAQ?<a class="headerlink" href="#how-is-running-cracmm-different-than-running-other-chemical-mechanisms-in-cmaq" title="Link to this heading">#</a></h2>
<p>Running CRACMM is just like running other mechanisms in CMAQ. No matter what mechanism you choose, CMAQ will require several inputs that are mechanism specific (including the gas and aerosol species lists, initial conditions, boundary conditions, and emissions) as well as other inputs that are mechanism independent (meteorology, land use files, grid description file). Some of these inputs are distributed with CMAQ while others are generated from separate tools. See <a class="reference external" href="https://github.com/USEPA/CMAQ/blob/main/DOCS/Users_Guide/CMAQ_UG_ch04_model_inputs.md">Chapter 4 of the CMAQ Users’ Guide</a> for a complete list of CMAQ inputs.</p>
</section>
<section id="how-do-i-select-cracmm">
<h2>How do I select CRACMM?<a class="headerlink" href="#how-do-i-select-cracmm" title="Link to this heading">#</a></h2>
<p>Once you have obtained CMAQv5.5 and set up your project directory, CRACMM2 can be selected in the CCTM build script (CCTM/scripts/bldit_cctm.csh) by indicating “CRACMM2” as the Mechanism. The “_aq” extension is no longer part of the mechanism name starting with CRACMM2. The selection of the corresponding aerosol module, cloud module, and default gas-phase chemical solver will occur automatically in the build script based on the mechanism name.</p>
<p>Currently, CRACMM cannot be built with the gfortran compiler version 9.1 and later since CMAQ-CRACMM has trailing comments in the gas, aerosol, and non-reactive species namelists. If you want to pursue that compiler now, delete the comments (starting with “!” ) in the GC, AE, and NR namelists. Look for an upcoming bug fix on the v5.5+ branch that will address this issue.</p>
</section>
<section id="what-deposition-and-biogenic-emission-modules-work-with-cracmm">
<h2>What deposition and biogenic emission modules work with CRACMM?<a class="headerlink" href="#what-deposition-and-biogenic-emission-modules-work-with-cracmm" title="Link to this heading">#</a></h2>
<p>CRACMM is compatible and has been tested with both STAGE and M3DRY deposition modules. CRACMM is compatible with both BEIS and MEGAN in-line biogenic emissions.</p>
</section>
<section id="how-do-i-prepare-emission-inputs-for-cracmm">
<h2>How do I prepare emission inputs for CRACMM?<a class="headerlink" href="#how-do-i-prepare-emission-inputs-for-cracmm" title="Link to this heading">#</a></h2>
<p>CRACMM1 and CRACMM1AMORE use the same emissions since the two versions differ only in the representation of isoprene chemistry.
CRACMM2 emissions are slightly different than CRACMM1 as ethylbenzene and styrene are now explicit. CRACMM2 emissions may be used in CRACMM1/CRACMM1AMORE (and vice versa) using approximations (see the work of Skipper et al. and https://github.com/USEPA/CRACMM/tree/main/emissions).
CRACMM includes a set of rules for how individual organic species map to the mechanism species.
These rules are distributed in python code in the supporting repository.
In addition, the repository contains the mapping of individual organic species from the SPECIATE database, BEIS, and MEGAN to CRACMM species.
CMAQ-ready emissions are generally prepared using the SMOKE model.</p>
</section>
<section id="how-do-i-obtain-initial-and-boundary-conditions">
<h2>How do I obtain initial and boundary conditions?<a class="headerlink" href="#how-do-i-obtain-initial-and-boundary-conditions" title="Link to this heading">#</a></h2>
<p>Initial and boundary conditions can be mapped from other mechanisms including Carbon Bond. The CMAQ repository <a class="reference external" href="https://github.com/USEPA/CMAQ/tree/main/PREP/bcon/map2mech">bcon PREP tools</a> contain mappings from Carbon Bond to CRACMM. Initial conditions may be obtained in a similar manner. Because Carbon Bond species are not a good match to CRACMM species when emissions are fresh, the initial conditions should be followed by sufficient spin-up time to remove their influence. See the work by <a class="reference external" href="https://doi.org/10.1016/j.atmosenv.2017.04.009">Hogrefe et al.</a> for the impact of initial conditions on CMAQ predictions as a function of spin-up time. The larger the domain (e.g., hemisphere vs a country) and the more remote the study area (e.g., free troposphere vs surface), the longer the spin-up time will need to be. Adequate spin-up time can always be checked by adding more spin-up days and verifying the model predictions have not significantly changed.</p>
</section>
<section id="what-does-cracmm-assume-about-the-volatility-of-primary-organic-aerosol-and-how-to-i-prepare-those-emissions">
<h2>What does CRACMM assume about the volatility of primary organic aerosol and how to I prepare those emissions?<a class="headerlink" href="#what-does-cracmm-assume-about-the-volatility-of-primary-organic-aerosol-and-how-to-i-prepare-those-emissions" title="Link to this heading">#</a></h2>
<p>The majority of speciation profiles in SPECIATE assume POA is nonvolatile. A few volatility resolved profiles are in SPECIATE starting with v5.1, and work is underway to build volatility information for all relevant sources into future versions of SPECIATE.</p>
<p><a class="reference external" href="https://github.com/USEPA/S2S-Tool">S2S-Tool</a> workflows in place for CRACMM supplement the POA information in SPECIATE by implementing semivolatile POA profiles in the emission files.
Prior to S2S-Tool, workflows in place for CRACMM in v5.4 implemented semivoltile POA in the DESID control files by adding together PMOCN2 and PMNOCMN2 on the emission files to create a
total POA equivalent that is then distributed to different volatility species in the model based on the expected volatility of POA emissions. Your specific configuration will depend on when and how your emissions were prepared.</p>
<p>For emissions to be properly ingested by CMAQ, three files need to be customized and synchronized for your simulation:</p>
<ul class="simple">
<li><p>The run script. This is where the model is told what files to read in and each file (stream) is given a string label.</p></li>
<li><p>The DESID mechanism-specific namelist. This is where species on the emission files are mapped to model species. For older workflows, PMOCN2 and PMNCOMN2 can be mapped to species of different volatility.</p></li>
<li><p>The DESID mechanism-independent control file. This is where emission files can be grouped so that multiple sources can be treated the same (e.g., wildland fires, prescribed burning, and residential wood burning can have the same volatility profile).</p></li>
</ul>
<p><strong>The main CMAQ log file and the log file for at least one processor should be checked for any initial run.</strong> Warnings about potential emission problems will be displayed in those logs. More guidance on using DESID is available in a <a class="reference external" href="https://github.com/USEPA/CMAQ/tree/main/DOCS/Users_Guide/Tutorials">CMAQ tutorial</a>.</p>
<p>CRACMM mechanisms currently allow traditional nonvolatile ‘APOC’ and ‘ANCOM’ as legacy species in the model. The species can be transported and removed but do not undergo any heterogeneous or other chemistry. This species will be removed in a future version. To use the model species ‘APOC’ and ‘ANCOM’, the DESID control file would need to include their mappings.</p>
<p>If your emission preparation workflow is custom, you can create semivolatle POA species directly in your inputs. CRACMM contains low volatility through semivolatile organic species with either alkane-like or oxygenated functionality that can represent semivolatile POA emissions. You can use the CRACMM python emission mapper to map emissions to representative CRACMM species. In CMAQ, check that the DESID files include your species names.</p>
<p>Future releases of CRACMM, CMAQ, and emission tools should be checked for cross compatibility.</p>
</section>
<section id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Link to this heading">#</a></h2>
<p><a class="reference external" href="https://www.epa.gov/air-emissions-modeling/speciate">SPECIATE Database</a>: A database of PM<sub>2.5</sub> and VOC emissions composition by individual species.</p>
<p><a class="reference external" href="https://github.com/USEPA/S2S-Tool">S2S-Tool</a>: A tool to convert SPECIATE profiles with individual species to profiles of mechanism species for use in SMOKE. Replaces Speciation Tool.</p>
<p><a class="reference external" href="https://github.com/CEMPD/SMOKE/">SMOKE</a>: A tool that combines emission magnitudes with speciation profiles as well as temporal and spatial proxies to create CMAQ-ready emission files.</p>
<p><a class="reference external" href="https://github.com/USEPA/CRACMM/">CRAMM Repository</a>: A repository containing additional information on how emissions map to CRACMM as well as metadata for CRACMM.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-is-running-cracmm-different-than-running-other-chemical-mechanisms-in-cmaq">How is running CRACMM different than running other chemical mechanisms in CMAQ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-select-cracmm">How do I select CRACMM?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-deposition-and-biogenic-emission-modules-work-with-cracmm">What deposition and biogenic emission modules work with CRACMM?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-prepare-emission-inputs-for-cracmm">How do I prepare emission inputs for CRACMM?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-obtain-initial-and-boundary-conditions">How do I obtain initial and boundary conditions?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-does-cracmm-assume-about-the-volatility-of-primary-organic-aerosol-and-how-to-i-prepare-those-emissions">What does CRACMM assume about the volatility of primary organic aerosol and how to I prepare those emissions?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resources">Additional resources</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/Users_Guide/Tutorials/CMAQ_UG_tutorial_CRACMM.md.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, CMAQ Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>